{% extends "base_vicafpro.html" %}
{% load static %}
{% block content %}

<style>
    /* Estilos base para mantener la coherencia con servicios_form.html */
    .glass-card-main {
        background: rgba(15, 23, 42, 0.7); 
        backdrop-filter: blur(10px);
        border: 1px solid rgba(51, 65, 85, 0.5); 
    }
    .delete-button-pulse {
        transition: all 0.3s;
        box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
        animation: pulse 2s infinite;
    }
    .delete-button-pulse:hover {
        animation: none;
        box-shadow: 0 10px 15px -3px rgba(239, 68, 68, 0.5);
    }
    @keyframes pulse {
        0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
        70% { transform: scale(1.02); box-shadow: 0 0 0 15px rgba(239, 68, 68, 0); }
        100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
    }
</style>

<div class="space-y-12 bg-blue-950 min-h-screen p-8 md:p-12 flex items-center justify-center">
    
    <div class="glass-card-main p-8 md:p-10 w-full max-w-xl rounded-3xl shadow-2xl animate-fade-in-up text-center">
        
        <i data-lucide="alert-triangle" class="w-16 h-16 mx-auto text-red-500 mb-6"></i>

        <h1 class="text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-600 mb-4">
            CONFIRMAR ELIMINACIÓN
        </h1>
        
        <p class="text-xl text-slate-300 mb-6 font-semibold">
            ¿Está seguro de que desea eliminar permanentemente el servicio:
        </p>
        
        <p class="text-2xl font-black text-white p-3 bg-slate-800 rounded-lg border border-slate-700 mx-auto max-w-md mb-8">
            "{{ servicio.nombre }}"
        </p>
        
        <p class="text-sm text-red-400 mb-8">
            <i data-lucide="radiation" class="inline w-4 h-4 mr-1"></i>
            Esta acción es irreversible y podría afectar registros relacionados (Ej. ofertas, reportes).
        </p>

        {% if error %}
        <div class="bg-red-500/10 text-red-300 p-4 rounded-lg mb-6 border border-red-500 text-left">
            <p class="font-medium flex items-start gap-2"><i data-lucide="x-circle" class="w-5 h-5 mt-1"></i> {{ error }}</p>
        </div>
        {% endif %}

        <form method="post" action="{% url 'servicios:eliminar_servicio' pk=servicio.pk %}" class="flex flex-col sm:flex-row justify-center gap-4 mt-8">
            {% csrf_token %}
            
            <a href="{% url 'servicios:lista_servicios' %}" 
               class="flex items-center justify-center gap-2 px-8 py-3.5 border border-slate-700 shadow-lg text-base font-bold rounded-full text-slate-300 bg-slate-700 hover:bg-slate-600 transition-all duration-300 transform hover:scale-[1.02]">
                <i data-lucide="x" class="w-5 h-5"></i>
                Cancelar y Volver
            </a>
            
            <button type="submit" 
                    class="delete-button-pulse flex items-center justify-center gap-2 px-8 py-3.5 border border-transparent shadow-xl text-base font-bold rounded-full text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-4 focus:ring-offset-2 focus:ring-red-500 focus:ring-offset-slate-900 transition-all duration-300 transform hover:scale-[1.05]">
                <i data-lucide="trash-2" class="w-5 h-5"></i>
                SÍ, ELIMINAR
            </button>
        </form>

    </div>
</div>

{% endblock %}

{% block extra_scripts %}
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Inicializa los íconos de Lucide
        if (typeof lucide !== 'undefined') {
            lucide.createIcons();
        }
    });
</script>
{% endblock %}